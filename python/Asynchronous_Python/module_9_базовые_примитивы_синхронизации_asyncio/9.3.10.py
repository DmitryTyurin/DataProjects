import asyncio

crew_list = [
    "smh547e3cebb1934a34a43d23bf31a96396",
    "smn9c88220fbeaa4c24aa6c8342d437618a",
    "smef64767c46d444c6c89937346c8cc4288",
    "sms_62933d018e09401bb61c3e823bdb4477",
]

bots = {
    "d234": "–ü–∏—â–µ–≤–æ–π —Å–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä (—É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –≥–æ—Ç–æ–≤–∫–∞ - –¥–µ–ª–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è!):",
    "d235": "–†–æ–±–æ—Ç-—É–±–æ—Ä—â–∏–∫ (–Ω–µ—É–∫–ª—é–∂–∏–π, —Å—Ç–µ—Å–Ω–∏—Ç–µ–ª—å–Ω—ã–π, –Ω–æ —É–∂–∞—Å–Ω–æ —Å—Ç–∞—Ä–∞—Ç–µ–ª—å–Ω—ã–π):",
    "d236": "–ë–∞—Ä-—Ä–æ–±–æ—Ç (–±—ã–≤–∞–µ—Ç, —á—Ç–æ –ø—å–µ—Ç —Å–≤–æ–∏ –∫–æ–∫—Ç–µ–π–ª–∏. –ò —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–µ—Å–µ–ª–µ–µ!):",
    "d237": "–í–∏–Ω—Ç–∞–∂–Ω—ã–π –∫–∏–±–µ—Ä-—Ä–∞—Å—Å–∫–∞–∑—á–∏–∫ (–∑–Ω–∞–µ—Ç —Å–∞–º—ã–µ —Å–º–µ—à–Ω—ã–µ –∞–Ω–µ–∫–¥–æ—Ç—ã –ì–∞–ª–∞–∫—Ç–∏–∫–∏, –≤—Å–µ 20):",
    "d238": "–†–µ–º–±–æ—Ç ‚Ññ13 (—É–≤–µ—Ä–µ–Ω, —á—Ç–æ –ª—É—á—à–µ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–µ–º–æ–Ω—Ç–∞ - —Å–∏–Ω—è—è –∏–∑–æ–ª–µ–Ω—Ç–∞!):",
    "d239": "–ù–µ—Å–∫–æ–ª—å–∫–æ —Å–≤–∞—Ä–ª–∏–≤—ã–π –∫–ª–∏–º–∞—Ç-–∫–æ–Ω—Ç—Ä–æ–ª—å (–∞, –≤–∞–º –±—ã —Ç–∞–∫ –≥–æ–ª–æ–≤—É –ø–æ–∫—Ä—É—Ç–∏–ª–∏!):",
    "d240": "–î–µ–∂—É—Ä–Ω—ã–π –º–µ–¥–∏–∫-–∞–Ω–¥—Ä–æ–∏–¥ (–ª—é–±–∏—Ç –ø–æ—Ä–∞—Å—Å—É–∂–¥–∞—Ç—å –æ —Ö—Ä—É–ø–∫–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–º–æ–≤):",
    "d241": "–¢–∞–ª–∏—Å–º–∞–Ω —ç–∫–∏–ø–∞–∂–∞ –∫–∏–±–µ—Ä-–∫–æ—Ç –¢–æ–º (–Ω–µ–∑–∞–≤–∏—Å–∏–º –∏ —Å–∞–º–æ–ª—é–±–∏–≤, –∫–∞–∫ –∏ –ø–æ–ª–æ–∂–µ–Ω–æ –Ω–∞—Å—Ç–æ—è—â–µ–º—É –∫–æ—Ç—É):",
}


async def robot_reaction(event: asyncio.Event, bot: str, message: str):
    await event.wait()
    await speech_synt(bot, message)


async def _event(id: str, id_sm: str, event: asyncio.Event):
    if id == id_sm:
        await asyncio.sleep(2)
        event.set()
    else:
        print("–°–ø–æ–∫–æ–π–Ω–æ, –∂–¥–µ–º —Å–µ—Ä–∂–∞–Ω—Ç–∞!")


async def birthday():
    id_sm = "sms_62933d018e09401bb61c3e823bdb4477"
    id_bots = ["d234", "d235", "d236", "d237", "d238", "d239", "d240", "d241"]
    message = "–ü–æ–≤–µ–ª–∏—Ç–µ–ª—å –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤! –î–æ–ª–≥–∏—Ö –ª–µ—Ç! –¢—ã –≤–µ–¥–µ—à—å –Ω–∞—Å! –°–ª–∞–≤–∞ —Å–µ—Ä–∂–∞–Ω—Ç—É! –£—Ä–∞!"

    happy_event = asyncio.Event()

    bots_tasks = [robot_reaction(happy_event, bot, message) for bot in id_bots]

    await sensor_id_124(_event, id_sm, happy_event)

    await asyncio.gather(*bots_tasks)


async def speech_synt(bot: str, message: str):
    print(f"{bots.get(bot)}\nüåüüåüüåü{message}üåüüåüüåü")


async def sensor_id_124(fn, id_sm: str, event: asyncio.Event):
    for x in crew_list:
        await asyncio.sleep(0.5)
        await _event(x, id_sm, event)


asyncio.run(birthday())
